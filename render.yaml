services:
  - type: web
    name: mywuc
    env: docker
    dockerfilePath: ./Dockerfile
    autoDeploy: true
    rootDir: ./public
    envVars:
      - key: APP_ENV
        value: prod
      - key: APP_SECRET
        generateValue: false
      - key: DATABASE_URL
        fromDatabase:
          name: postgres-mywuc
          property: connectionString
      - key: JWT_PUBLIC_KEY
        sync: false
      - key: JWT_PASSPHRASE
        sync: false
      - key: CORS_ALLOW_ORIGIN
        value: '^https?://(localhost|127\.0\.0\.1|arthurdesmonts\.github\.io)(:[0-9]+)?$'
    dependencies:
      - name: postgres-mywuc
        type: postgresql
    envVars:
  - key: JWT_PRIVATE_B64
    value: |-
      LS0tLS1CRUdJTiBFTkNSWVBURUQgUFJJVkFURSBLRVktLS0tLQpNSUlKdFRCZkJna3Foa2lHOXcwQkJRMHdVakF4QmdrcWhraUc5dzBCQlF3d0pBUVFsY2RsWm50cWx0VkQrN0FrCnVtRUd3UUlDQ0FBd0RBWUlLb1pJaHZjTkFna0ZBREFkQmdsZ2hrZ0JaUU1FQVNvRUVBcGl3MlJpcDVJTG85T1oKUzNFTWNSSUVnZ2xRVVIzMVJEUzBxYnozVmhkT1lrbXJBUDhrYmN1ZlhNS3Q5OWRncmFFb0ZJbS9JQmJrWWVLNgpaNVRCSVphVWZ2RWVRVXgvWW02OERLTyt3c1p3SWY5SytjTkJGRDArN1h3cGYwZEZ2T2NPbVZPcGhLRHluYU05Cm5qczd4elpnVE5Sb283TFhiVHlGTnRZWU1WWC9FZmtzbGVBeFB6MFJPOXBIZHNBa3pPUlBKU2hwamY1emJjVTYKOW9BNW0yQjluQUdwZ0JQQURKTUpHczA1b3VXV2xLUENlN2cxUkUyUXI1SUtRYlZ1NGNhV2dUM0pxb2JmTTM1LwpTaGdIRC90K0prM3V0MzRWay90MnZRdEt6aExJUVJDSUFTODRxQitWejc2d3VWRzVOWEVhRkhHUERSb2I4ZzN0CjNwamsvclprT05PVlkxME1ZeWxDVk1na3ZLTGtjYXg1c054aEZ1bEZ2S3BjY24zcHBkek9CU1d3VlJUU3hZOVoKU1plQURCWm9HcVVXN3k3UUNETzl4UFlORWVWQUsrVnRiQzErNTJzYXRGRjIvbFp2bnZyR1ErVWg1aFJkdkdlbgpWWEd2VUJKMEJaZ3BYdzcrWmg3WkV3Z0I5Q2RPOGE1amMyZkpuSnAyeWhRTytLSUJOREwydENUUkdVMll1a0FiClNUem1UdEhhbGI2WEZTTEhQMU84MFVONUpwK1hSR1dxV3hOSTdLRWJUU0wzejhxQlcrcFJhOGwxSEFvbjFobnIKRjJobWJ5c0JhL3lxY0lNTmN2RjN2cWtIZ2FjRGlVRHdGVjAzVFVtb25iYXZxUGZTQnUwUnhOLzJiL2dEbnJkUQpDN2M3QUdXRENXT1MwT0dEa3E2WTZ3NFRuVm1STlIwQlNCT1Y1cjNSQ0VDaFFvWmFOMlh2RXdORld5d3RDM2cyCm5EaXBJNFphWnAyUVBkVVhlcHp5RDVkc1hYWG5rYmIzN05FR1I5Ujg0UHFqdnNzNHMyZEtQbFRyRGZYT3lKTEQKaTBCcTFWc094Z1k1UkNEbklMY3lsaUZnR3U2eExkS2tnOEFSbk5VR2U3M01wbUxlYmJ1Umw2NVhnbUNrSVJJYgpzYkt3a0FDTSttK0ZuN0ttOVBCbUxob1pvb09oMWYxMzBTTnFIU3k5dVVCK1NkUEJ4bjdRLzd2eDJRRXppTmpxClJIKzF1VEp4SUpqeFR2WWVTSTdZWGJneVV5QXprT3FtcGJxQW0rUVhGTkR4QmE4RUhQQ3VzbEVYdVJZcnR1STYKaTQ0STZCQVFMYzRpc1UrSWg0c0xMVkFITjVwcWZLU1lFNjRBNVNRTFF0aERkeHBGL0JSRmNibmtYbW1XQlJzRAo0Z2lJK3gzVnV1bml1WC9lYWwyYXV3TGttbW01ZWlsZHkzWlhvN0dUakxVTjh3a3hTcngzeDZHQWJXbE9xNFFwCmFVZlNaZEJRMVRKZlZMcU03ZmVGOVJTTGZjczVFR3hJZExWZzh4MUcrR3VzakRhMXVNRFAyQWFLYmhJeGFUeGkKMU12Q0p3QnV3cmlFTUVjeW4va3BvMUdyK3JoVWNCNVY0N1g3VVI2OS9ZdG9WTWFhelorSWtwT3ByY2hRRmVERAo5K2hwUi9aUFBQMFEyZUdmTHN2cWRmblJxZFhDUnhWdDJZZWZ1Vk42YThrMWVUTHhaamM0RHlpWWJYUnVhdVMrClNnbVd1YWw4YlhHZlNBUG45QXcyZllzVzl2VEl0WThWVzk3Tm5sQ2wzSU5BVDlHU0dOMVJTSVNvOWtad1FTbm4KaGczbExyRCtGS29vb1ZZVzNHMm1xRDBUK3Q4NFhkR2ZuWHpHRFcxcEpHUlVRSDN1VGxERk0reW11SWRXSWM5eQp3bkVuZmhaZnAxdjRpNEl2NkhFK2pzdWpJUm1vMjJyMGlLN2lPRG1vRzViY0x5TVlJTFhidWRZMVZTLzFCUWFvCnhEekJydTIxRDlVVGdHVXNoUWRUNjM1Z0MwSVVyN29idVl0bW9BYlJtb1E2QklrY0UwRFk5Qkp4SUlRbmI2RjEKZVJMK3ZYRVBjVTRLYkV0emxCMHQ4ZXpJQ2xQQUJUWGRkUmVsckdHelJySVdkcGUzbXJXUzVXbml2c2VzaG5JVgpudkcvMUxEL280MXRYNWk4ZnhDRTcxVEJ4Tys3WWJibWtFZEJkcE9DR3lwbXBBSVFPekR4aWExY2lQSk5kd2oyCkNmSk1UQWdtaHp5bmRLUE9JUkV3QVR2TDRMZFlYV1ZXUkV6VTFsZURUc3pwOXp2KzRkZmliK0ZNZHlDNy9ERG4KSHMxeloxdkxjSWx4NDdKRUhIaHJWS3d5REY2MmxYZWpyQlliSmRvS0VmVFdoejhRem81aWlJVHB4Q1J0UVBadwp5MGRSelNqaHA0NWFvSS9HNWVyQzZYNExFOHlIRSthSUNEeWlGWTR2SW4ycjdtaXB1OXVGSUxadXBpeTdoeHBVCkhLdEZYbGJ4UFl6QXlBbGdzL0NobHQ1bmNTOHp1Ui9ZSHJhd2Rlb3F0SjRBT1FtT2dxY3p6a3E4RWNhNTRhaVcKRGJQMjZ0NElUYmVTVEpLZ1RGbXI3NTlnZnk0MDM4aWJtb3ZjSndJWkprVlV1NWQyWldSNm9yMnR5Q2QvYVRjQQpmU1RLYndVcWs1eWp6bmJna2ZDZS8xQklMZUdPQzR6QnFVZUtobUw1TXhPd2kwdHVPTkZBcnd4cHp5bWFzKzhoClpTQ0I4SFZ5S3g1VnhDeU4xcmtaSmZsdHBIVjdMM3UrV0Z4M3hIMUVGaCttblBqMURYYUtDV05SaHBnTC8yaVkKTTN0bzUvamtLcStFcjhVaWNpS3hqcURPS0tta0tFSmtTMHhzQlZyT2VkYzEyZG5idjFvZUtKdWV4aktOR2dqUApTeWh1bG1ia2xtZlNuMFpvdUYvMmZaZGRUd2ZPWDJKZmpzM2xMUEtXdnc2c28xK0xwUDlqa3Vqd0xpdUpoMjM4CnRwalNjK0xIc1VMRWJNb0hsVS8xQk9OelZPdkFHb09GMFZYTXZtbEtCZDQrVlNSbEQ5NnUyWGE1OVJnb1lNcksKM3o3RGN0Q29GNzM2Z3ErUS9aZlpUeE1UNUUyRUl2a0JHQjQ0RzVleTdhVklVQmJlSmVsQjFmMGIvYm10MElPcAovVWJQcEtQMFF1eWZRRHByZUJjUUViL3Y2cU1wZmlXV1JHbjVvdWRhK21ldTR2d283NWJ1Zjh0VXBaTUthNDNHCmcxd3FMZGxmMm1ZZkt4bko3RzcybjlCNW9nSFVFLzdZZTdBellycWxSbUxqODlpb2pRdng5c0JrT0l4NmdsM2QKUTZ4aWhPSXAvYUgzTzEzMEROd05zWTJmYzk5QUc5b1FJL2xHeWJvNzZqc2orVFZDUHViTVdsd3RNcEs0SHUxLwpRdnRiSWhIOCtFYjc4RmU1VE9oVzh2bXdKM1JmY0gzVjc5MWM5L0MwOTQ4K1VWU0YrRlREcVgwbU11TUp4VDZ3CmlrYTVxTVZLQ1NvQWl6MDFBMDY1N0pUZ2VtUXYvdVlaT0hPSkdoaEFKVFhJcHJPMVQ5a2VwYUwwanc3R1VBRXcKNWxsN2dTY2NGTTAyTElOc3N0UnQ5QzVqa0lCSFVvVnprK0k2RXNtbUliSWlJV2ovWFVFSVJuZ0lyb1VKeEJGWgpaUnFFS1Btc3RPYnVnNEFhRFNIU0hHSzdVYWpxOElldk5qeThlSThqUzR2blA0WVhVbTRUNlluaURLelRxYktMClRBVFFUR3MxYXJYQU83eXdUd1JQN2h2REkwQWJqR2lwbVdYc0kybllaUXdGNWw5WS90V1p2TXFuTWZ0VGF3eTkKenI5MzF6VS9nSjZMOHcwMnlkNGhlRC9XS0N6VitBYmIwbDVaNjBKOS9FNVIvY2s4SzRraWRKbXJESVh1ZHJZbwpQTkQraFB6cUIybjMwUHBHMUFON0c4ckU5R0piMDRRalJ5eU16OUlZRHBTUlZ5Qlo0T2N2WjdJYTFyV2wwZHhUCmgvK3V3cWNVa2hveTZhdzBxS29NVUloNDdjK3VIb0w2WTNPWTRlNDQ0RzZmL05PYmM2ck1BSjlyeTN1TU1ud3UKankwc2wzVlVLMW1mM0ZLbTBERldaTEZtSFQ5RmRHeUdkMVhrMy93ZTNZcXBJcUdKTlhaNzBWVkhQY0I5YnRWQQpCckVzQURuakR3a1RCdzZYZVdUOGU2UkkzZkhlT2J0YXhPUHJrRG1rdDNyd0J0R3RWM1NPOTNjPQotLS0tLUVORCBFTkNSWVBURUQgUFJJVkFURSBLRVktLS0tLQo=
  - key: JWT_PUBLIC_B64
    value: |-
      LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUF0djNMdWZYTnNlZ0VkMU5vT21rMApuOGk2S1c2cExCSFB5VUlmR0JLbXhlSndadUxuckVDODJpWUY3VjhvTXlOOG4wUVlabndsamt0Slh2em93am0yCkZucFpRdXVjSEROOTZzQitaYnZwMUtTWmZabGRiZVlMQk5meTFUWk9qeHo3dTFnR0w2bWZmbXcrZldQTDZOUG0KeUlyakRVdmc2SWlOY3lzaXdpT1R1eW9xTkRrR2FENlhKK3lpeXByRmVwcG5Ram5PcERnL2RVaEs3a2RIeXdDcAp6Q01jSGthbnFMc25uSjhEQzE2WTFjMENZREFwR3hKVE4wSldESWZoVGlaaHU1NWVUY1NQcGhBVk5aT0ltQlpHCjRWZ3VGVjlIanJoZUsyZElZdjZOL3VWVlgzdTI1T1E5YS83enBxTSs5WXdNdDEzbTJGaGlpeG9INWM5UnRNQkQKKzVFSDY1Y3ZkcEVZR0JJaTR2bTJlaDR4TmNFMmR5c3J6dnFHWFJ6SWtLYVdFSlZnVmwyUUQ5cGpDUFdPT2RvTQp3MndoQ3cvRnZiSEZ2NnY4dlJvTk9XajVjbmdTOEVjSy85MmF3djErTlIvMlRZQW0xK3VvazZVS25mTkIzZ1NFCnByanI4d0Q1cXRvUXRqcnZOb054SWZPZjFvdXRTZG8vWUtuRWpQeG9PSzlRdkp3d1RsUmw0SEMwU0wxUGRzZVUKSVlUOWVRY3p6UklDdXVHNTIyeVVxVmViLy9SWnlSREs3ZEpjaERxNmhKQ1F6Sm9FWjVjNUpsNVdZNWFhUk9SQgpaMWFmNVR4Wi9FWE9NM2t0RVlmOEdLZjNBZG1NMHNUZmlIWkEzUFFNRitWcjEvVDJXRGI1SjlmbGlmSU1mK1EzCkVpVGNnNWFTZmx3d3hKRnQzeTArbGdjQ0F3RUFBUT09Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=
  - key: JWT_PASSPHRASE
    value: mywuckey
